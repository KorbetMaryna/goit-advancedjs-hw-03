{"version":3,"file":"commonHelpers.js","sources":["../src/js/cat-api.js","../src/index.js"],"sourcesContent":["import axios from 'axios';\n\nconst apiKey = 'live_PhwyQ190iBWMD41jyFSre7c2tEjoQPL9JZN3xA9orTnwo4Tysj2GLchEe0O80FAe';\naxios.defaults.headers.common['x-api-key'] = apiKey;\n\nasync function fetchBreeds() {\n  try {\n    const response = await axios.get('https://api.thecatapi.com/v1/breeds');\n    return response.data;\n  } catch (error) {\n    throw new Error('Failed to fetch cat breeds');\n  }\n}\n\nasync function fetchCatByBreed(selectedBreedId) {\n  try {\n    const response = await axios.get(`https://api.thecatapi.com/v1/images/search?breed_ids=${selectedBreedId}`);\n    return response.data;\n  } catch (error) {\n    throw new Error('Failed to fetch cat by breed');\n  }\n}\n\nexport { fetchBreeds, fetchCatByBreed };","import { fetchBreeds, fetchCatByBreed} from './js/cat-api';\nimport SlimSelect from 'slim-select';\nimport iziToast from 'izitoast'; \nimport 'izitoast/dist/css/iziToast.css'; \n\nconst select = document.querySelector('.breed-select');\nconst catInfo = document.querySelector('.cat-info');\nconst animation = document.querySelector('.animation');\nconst loader = document.querySelector('.loader');\nconst error = document.querySelector('.error');\n\nconst breedSelect = new SlimSelect({\n    select: select,\n    settings: {\n        placeholderText: 'Choose a breed',\n    },\n});\n\nconst option = {\n    text: '',\n    value: '',\n    placeholder: true,\n}\n\nfunction toggleLoader(showLoader) {\n    loader.style.display = showLoader ? 'block' : 'none';\n}\n\nfunction toggleError(showError) {\n    error.style.display = showError ? 'block' : 'none';\n}\n\nasync function getBreeds() {\n    try {\n        toggleLoader(true);\n        toggleError(false);\n        await fetchBreeds().then(breeds => {\n        const data = breeds.map( breed => ({ text: breed.name, value: breed.id }));\n            breedSelect.setData([option, ...data]);\n        });\n        \n        toggleLoader(false);\n        \n        animation.addEventListener('animationiteration', () => {\n            const currentSrc = animation.getAttribute('src');\n            if (currentSrc === './img/cat_white.png') {\n                animation.setAttribute('src', '../src/img/cat_black.png');\n            } else {\n                animation.setAttribute('src', '../src/img/cat_white.png');\n            }\n        });\n\n        select.addEventListener('change', fetchCatInfo);\n\n    } catch (err) {\n        toggleError(true);\n        toggleLoader(false);\n        iziToast.error({\n            title: 'Error',\n            message: 'Oops! Something went wrong! Try reloading the page!',\n            position: 'center',\n    });\n    }\n}\n\nasync function fetchCatInfo() {\n    try {\n        toggleLoader(true);\n        toggleError(false);\n        const selectedBreedId = select.value;\n        const catData = await fetchCatByBreed(selectedBreedId);\n        toggleLoader(false);\n        const cat = catData[0];\n\n        catInfo.innerHTML = `\n        <div class=\"cat-container\">\n            <img class=\"cat-img\" src=\"${cat.url}\" alt=\"Ñat\">\n        <div class=\"cat-text\">\n            <p class=\"cat-name\" img\">${cat.breeds[0].name}</p>\n            <p class=\"cat-description\">${cat.breeds[0].description}</p>\n            <p class=\"cat-temperament\"><p>Temperament:</p> ${cat.breeds[0].temperament}</p>\n        </div> </div>`;\n        catInfo.style.display = 'block';\n        \n        \n    } catch (err) {\n        toggleError(true);\n        toggleLoader(false);\n        catInfo.style.display = 'none';\n        iziToast.error({\n            title: 'Error',\n            message: 'Oops! Something went wrong! Try reloading the page!',\n            position: 'center'\n        });\n    }\n}\n\ngetBreeds();\n\n"],"names":["apiKey","axios","fetchBreeds","fetchCatByBreed","selectedBreedId","select","catInfo","animation","loader","error","breedSelect","SlimSelect","option","toggleLoader","showLoader","toggleError","showError","getBreeds","breeds","data","breed","fetchCatInfo","iziToast","catData","cat"],"mappings":"owBAEA,MAAMA,EAAS,wEACfC,EAAM,SAAS,QAAQ,OAAO,aAAeD,EAE7C,eAAeE,GAAc,CAC3B,GAAI,CAEF,OADiB,MAAMD,EAAM,IAAI,qCAAqC,GACtD,IACjB,MAAC,CACA,MAAM,IAAI,MAAM,4BAA4B,CAC7C,CACH,CAEA,eAAeE,EAAgBC,EAAiB,CAC9C,GAAI,CAEF,OADiB,MAAMH,EAAM,IAAI,wDAAwDG,GAAiB,GAC1F,IACjB,MAAC,CACA,MAAM,IAAI,MAAM,8BAA8B,CAC/C,CACH,CChBA,MAAMC,EAAS,SAAS,cAAc,eAAe,EAC/CC,EAAU,SAAS,cAAc,WAAW,EAC5CC,EAAY,SAAS,cAAc,YAAY,EAC/CC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAQ,SAAS,cAAc,QAAQ,EAEvCC,EAAc,IAAIC,EAAW,CAC/B,OAAQN,EACR,SAAU,CACN,gBAAiB,gBACpB,CACL,CAAC,EAEKO,EAAS,CACX,KAAM,GACN,MAAO,GACP,YAAa,EACjB,EAEA,SAASC,EAAaC,EAAY,CAC9BN,EAAO,MAAM,QAAUM,EAAa,QAAU,MAClD,CAEA,SAASC,EAAYC,EAAW,CAC5BP,EAAM,MAAM,QAAUO,EAAY,QAAU,MAChD,CAEA,eAAeC,GAAY,CACvB,GAAI,CACAJ,EAAa,EAAI,EACjBE,EAAY,EAAK,EACjB,MAAMb,EAAW,EAAG,KAAKgB,GAAU,CACnC,MAAMC,EAAOD,EAAO,IAAKE,IAAU,CAAE,KAAMA,EAAM,KAAM,MAAOA,EAAM,EAAE,EAAG,EACrEV,EAAY,QAAQ,CAACE,EAAQ,GAAGO,CAAI,CAAC,CACjD,CAAS,EAEDN,EAAa,EAAK,EAElBN,EAAU,iBAAiB,qBAAsB,IAAM,CAChCA,EAAU,aAAa,KAAK,IAC5B,sBACfA,EAAU,aAAa,MAAO,0BAA0B,EAExDA,EAAU,aAAa,MAAO,0BAA0B,CAExE,CAAS,EAEDF,EAAO,iBAAiB,SAAUgB,CAAY,CAEjD,MAAC,CACEN,EAAY,EAAI,EAChBF,EAAa,EAAK,EAClBS,EAAS,MAAM,CACX,MAAO,QACP,QAAS,sDACT,SAAU,QACtB,CAAK,CACA,CACL,CAEA,eAAeD,GAAe,CAC1B,GAAI,CACAR,EAAa,EAAI,EACjBE,EAAY,EAAK,EACjB,MAAMX,EAAkBC,EAAO,MACzBkB,EAAU,MAAMpB,EAAgBC,CAAe,EACrDS,EAAa,EAAK,EAClB,MAAMW,EAAMD,EAAQ,GAEpBjB,EAAQ,UAAY;AAAA;AAAA,wCAEYkB,EAAI;AAAA;AAAA,uCAELA,EAAI,OAAO,GAAG;AAAA,yCACZA,EAAI,OAAO,GAAG;AAAA,6DACMA,EAAI,OAAO,GAAG;AAAA,uBAEnElB,EAAQ,MAAM,QAAU,OAG3B,MAAC,CACES,EAAY,EAAI,EAChBF,EAAa,EAAK,EAClBP,EAAQ,MAAM,QAAU,OACxBgB,EAAS,MAAM,CACX,MAAO,QACP,QAAS,sDACT,SAAU,QACtB,CAAS,CACJ,CACL,CAEAL,EAAW"}