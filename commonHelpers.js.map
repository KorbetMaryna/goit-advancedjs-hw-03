{"version":3,"file":"commonHelpers.js","sources":["../src/js/cat-api.js","../src/index.js"],"sourcesContent":["import axios from 'axios';\n\nconst apiKey = 'live_PhwyQ190iBWMD41jyFSre7c2tEjoQPL9JZN3xA9orTnwo4Tysj2GLchEe0O80FAe';\naxios.defaults.headers.common['x-api-key'] = apiKey;\n\nasync function fetchBreeds() {\n  try {\n    const response = await axios.get('https://api.thecatapi.com/v1/breeds');\n    return response.data;\n  } catch (error) {\n    throw new Error('Failed to fetch cat breeds');\n  }\n}\n\nasync function fetchCatByBreed(selectedBreedId) {\n  try {\n    const response = await axios.get(`https://api.thecatapi.com/v1/images/search?breed_ids=${selectedBreedId}`);\n    return response.data;\n  } catch (error) {\n    throw new Error('Failed to fetch cat by breed');\n  }\n}\n\nexport { fetchBreeds, fetchCatByBreed };","import { fetchBreeds, fetchCatByBreed} from './js/cat-api';\nimport SlimSelect from 'slim-select';\n\nconst select = document.querySelector('.breed-select');\nconst catInfo = document.querySelector('.cat-info');\nconst animation = document.querySelector('.animation');\n\nconst breedSelect = new SlimSelect({\n    select: select,\n    settings: {\n        placeholderText: 'Choose a breed',\n    },\n});\n\nconst option = {\n    text: '',\n    value: '',\n    placeholder: true,\n}\n\nasync function getBreeds() {\n    try {\n        await fetchBreeds().then(breeds => {\n        const data = breeds.map( breed => ({ text: breed.name, value: breed.id }));\n            breedSelect.setData([option, ...data]);\n        });\n        \n        animation.addEventListener('animationiteration', () => {\n            const currentSrc = animation.getAttribute('src');\n            if (currentSrc === './img/cat_white.png') {\n                animation.setAttribute('src', './img/cat_black.png');\n            } else {\n                animation.setAttribute('src', './img/cat_white.png');\n            }\n        });\n\n        select.addEventListener('change', fetchCatInfo);\n    } catch (error) {\n        console.log(error);\n    }\n}\n\nasync function fetchCatInfo() {\n    try {\n        const selectedBreedId = select.value;\n        const catData = await fetchCatByBreed(selectedBreedId);\n        const cat = catData[0];\n\n        catInfo.innerHTML = `\n        <div class=\"cat-container\">\n            <img class=\"cat-img\" src=\"${cat.url}\" alt=\"сat\">\n        <div class=\"cat-text\">\n            <p class=\"cat-name\" img\">${cat.breeds[0].name}</p>\n            <p class=\"cat-description\">${cat.breeds[0].description}</p>\n            <p class=\"cat-temperament\"><p>Temperament:</p> ${cat.breeds[0].temperament}</p>\n        </div> </div>`;\n        catInfo.style.display = 'block';\n        \n        \n    } catch (err) {\n        catInfo.style.display = 'none';\n        console.log(err)\n    }\n}\n\ngetBreeds();\n\n"],"names":["apiKey","axios","fetchBreeds","fetchCatByBreed","selectedBreedId","select","catInfo","animation","breedSelect","SlimSelect","option","getBreeds","breeds","data","breed","fetchCatInfo","error","cat","err"],"mappings":"6vBAEA,MAAMA,EAAS,wEACfC,EAAM,SAAS,QAAQ,OAAO,aAAeD,EAE7C,eAAeE,GAAc,CAC3B,GAAI,CAEF,OADiB,MAAMD,EAAM,IAAI,qCAAqC,GACtD,IACjB,MAAC,CACA,MAAM,IAAI,MAAM,4BAA4B,CAC7C,CACH,CAEA,eAAeE,EAAgBC,EAAiB,CAC9C,GAAI,CAEF,OADiB,MAAMH,EAAM,IAAI,wDAAwDG,GAAiB,GAC1F,IACjB,MAAC,CACA,MAAM,IAAI,MAAM,8BAA8B,CAC/C,CACH,CClBA,MAAMC,EAAS,SAAS,cAAc,eAAe,EAC/CC,EAAU,SAAS,cAAc,WAAW,EAC5CC,EAAY,SAAS,cAAc,YAAY,EAE/CC,EAAc,IAAIC,EAAW,CAC/B,OAAQJ,EACR,SAAU,CACN,gBAAiB,gBACpB,CACL,CAAC,EAEKK,EAAS,CACX,KAAM,GACN,MAAO,GACP,YAAa,EACjB,EAEA,eAAeC,GAAY,CACvB,GAAI,CACA,MAAMT,EAAW,EAAG,KAAKU,GAAU,CACnC,MAAMC,EAAOD,EAAO,IAAKE,IAAU,CAAE,KAAMA,EAAM,KAAM,MAAOA,EAAM,EAAE,EAAG,EACrEN,EAAY,QAAQ,CAACE,EAAQ,GAAGG,CAAI,CAAC,CACjD,CAAS,EAEDN,EAAU,iBAAiB,qBAAsB,IAAM,CAChCA,EAAU,aAAa,KAAK,IAC5B,sBACfA,EAAU,aAAa,MAAO,qBAAqB,EAEnDA,EAAU,aAAa,MAAO,qBAAqB,CAEnE,CAAS,EAEDF,EAAO,iBAAiB,SAAUU,CAAY,CACjD,OAAQC,EAAP,CACE,QAAQ,IAAIA,CAAK,CACpB,CACL,CAEA,eAAeD,GAAe,CAC1B,GAAI,CACA,MAAMX,EAAkBC,EAAO,MAEzBY,GADU,MAAMd,EAAgBC,CAAe,GACjC,GAEpBE,EAAQ,UAAY;AAAA;AAAA,wCAEYW,EAAI;AAAA;AAAA,uCAELA,EAAI,OAAO,GAAG;AAAA,yCACZA,EAAI,OAAO,GAAG;AAAA,6DACMA,EAAI,OAAO,GAAG;AAAA,uBAEnEX,EAAQ,MAAM,QAAU,OAG3B,OAAQY,EAAP,CACEZ,EAAQ,MAAM,QAAU,OACxB,QAAQ,IAAIY,CAAG,CAClB,CACL,CAEAP,EAAW"}